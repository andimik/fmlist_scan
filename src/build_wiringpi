
BASE=$(pwd)

# git://git.drogon.net/wiringPi
# https://github.com/WiringPi/WiringPi.git

#GITUSER=drogon
#GITPROJ=wiringPi

GITUSER=WiringPi
GITPROJ=WiringPi

if [ ! -d ${BASE}/git/${GITUSER} ]; then
  mkdir -p ${BASE}/git/${GITUSER}
fi

cd ${BASE}/git/${GITUSER}
if [ -d ${GITPROJ} ]; then
  cd ${GITPROJ}
  git pull --rebase
else
  git clone https://github.com/${GITUSER}/${GITPROJ}.git
  #git clone git://git.${GITUSER}.net/${GITPROJ}
fi

cd ${BASE}/git/${GITUSER}/${GITPROJ}
./build
#make

#echo "remaining todo: sudo make install"
#echo "remaining todo: sudo ldconfig"

cd ${BASE}

# download is for Raspberry Pi. Necessary for Model 4B
wget https://project-downloads.drogon.net/wiringpi-latest.deb
